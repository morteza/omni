id: https://morteza.github.io/omni/data/
name: omnidata
description: |
  This schema describes the data used in the OmniData project, including the modalities, format, metadata, and shapes.
prefixes:
  linkml: https://w3id.org/linkml/
  omnidata: https://w3id.org/omnidata/
  omni: https://w3id.org/omni/
  studyflow: https://behaverse.org/schemas/studyflow/
  schema: http://schema.org/
imports:
  - linkml:types
default_range: string
default_prefix: omnidata

enums:
  ModalityEnum:
    enum_uri: omnidata:ModalityEnum
    permissible_values:
      - dense_timeseries:
          description: Time series data
      - sparse_timeseries:
          description: Sparse timeseries (e.g., event data)
      - fmri:
          description: Functional MRI data
      - eeg:
          description: Electroencephalography data
      - meg:
          description: Magnetoencephalography data
      - eye:
          description: Eye tracking data
      - beh:
          description: Behavioral data (RL-like formats)
      - statistics:
          description: Statistics data (scores, etc.)

types:
  # Modality:
  #   uri: linkml:string
  #   base: str
  #   description: | 
  #     The modality of the data.

classes:
  ComputerAgent:
  HumanSubject:
    exact_mappings:
      - schema:Person
  
  DataStore:
  DataObject:
  DataCatalog:
    slots:
      - name
      - description
      - datasets

  Dataset:
    slots:
      - catalogs
      - name
      - metadata
  Table:
    is_a: DataObject
    slots:
      - name
      - schema
      - metadata
  Tensor:
  Array:
    is_a: Tensor
    slots:
      - name
      - modality
      - format
      - metadata
      - shape
  Snapshot:
  Partition:
    slots:
      - type  # TODO e.g., path, channel name, xyz, etc
      - keyvalue_pairs  # TODO
  Coordinate:
    slots:
      - type  # TODO e.g., path, channel name, xyz, etc
      - keyvalue_pairs  # TODO e.g., channel value, xyz value, etc

  RestDataset:  # TODO
    is_a: Dataset
    description: |
      A dataset that contains continuous data for human subjects.
    slots:
      - name
      - metadata
      - subjects
        - data_arrays
  TaskDataset:  # TODO
    is_a: Dataset
    description: |
      A dataset that contains task data for human or robots.
    slots:
      - name
      - metadata
      - environment
      - agents
        - episodes
          - steps
            - action
            - is_first
            - is_last
            - is_terminal
            - observation
            - reward
            - done

slots:
  name:
    description: The name of the element.
    range: string
    required: true
  modality:
    description: The modality of the data.
    range: DataModalityEnum
    required: true
  format:
    description: The format of the data.
    range: string
    required: true
  metadata:
    description: The metadata of the data.
    range: string
    required: false
  shape:
    description: The shape of the data.
    range: string
    required: false
  schema:
    description: The schema of a table.
    range: string
    required: false
  datasets:
    description: The datasets in the catalog.
    range: Dataset
    multivalued: true
  catalogs:
    description: The catalogs that the dataset belongs to.
    range: DataCatalog
    multivalued: true
